<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title></title>
        <!--
            引入外部的js文件
        -->
        <script type="text/javascript" src="regutils.js"></script>
        <script>
            /*
                1.确定时间：onfocus
                2.事件要驱动函数
                3.函数要干一些事情：修改span的内容
            */
            function showTips(spanID,msg) {
                //首先要获得要操作元素 span
                var span = document.getElementById(spanID);
                span.innerHTML = msg;
            }

            /*
                校验用户名：
                1.事件：onblur 失去焦点
                2.函数：checkUsername()
                3.函数去显示校验结果
             */
            
            function checkUsername() {
                //获取用户输入的内容
                var uValue = document.getElementById("username").value;

                //对输入的内容进行检验
                //获得要显示结果的span
                var span = document.getElementById("span_username");

                if (uValue.length < 6){
                    //显示校验结果
                    span.innerHTML = "<font color='red' size='2'>用户名太短</font>";
                    return false;
                } else{
                    span.innerHTML = "<font color='#4169e1' size='2'>用户名可用</font>";
                    return true;
                }
            }

            /*
            密码校验
             */
            function checkPassword() {
                //获取密码输入
                var uPass = document.getElementById("password").value;

                var span = document.getElementById("span_password");
                //对密码输入进行校验
                if (uPass.length < 6){
                    span.innerHTML = "<font color='red' size='2'>密码太短</font>";
                    return false;
                } else {
                    span.innerHTML = "<font color='#4169e1' size='2'>密码可用</font>";
                    return true;
                }
            }

            /*
            确认密码校验
             */
            function checkRepassword() {
                //获取密码输入
                var uPass = document.getElementById("password").value;

                //获取确认密码输入
                var uRepass = document.getElementById("repassword").value;

                var span = document.getElementById("span_repassword");
                //对密码输入进行校验
                if (uPass != uRepass){
                    span.innerHTML = "<font color='red' size='2'>密码不一致</font>";
                    return false;
                } else {
                    span.innerHTML = "<font color='#4169e1' size='2'> √</font>";
                    return true;
                }
            }

            /*
            邮箱校验
             */
            function checkEmail() {
                var uEmail = document.getElementById("email").value;

                var flag = checkEmail(uEmail);

                var span = document.getElementById("span_email");
                //对邮箱输入进行校验
                if (flag){
                    span.innerHTML = "<font color='#4169e1' size='2'>邮箱可用</font>";
                    return true;
                } else {
                    span.innerHTML = "<font color='red' size='2'>邮箱格式不正确</font>";
                    return flag;
                }
            }
            
            function checkForm() {
                var flag = checkUsername() && checkPassword() && checkRepassword() && checkEmail();
                return flag;
            }
        </script>
    </head>
    <body>
        <form action="./01ac215c7c8df1a801213f26dd08a9.jpg"  onsubmit="return checkForm()">
            用户名：<input type="text"  id="username" onfocus="showTips('span_username','用户名长度不能小于6位数')" onblur="checkUsername()" onkeyup="checkUsername()"/><span id="span_username"></span><br />
            密码：<input type="password"  id="password" onfocus="showTips('span_password','密码长度不能小于6位数')" onblur="checkPassword()" onkeyup="checkPassword()"/><span id="span_password"></span><br />
            确认密码：<input type="password"  id="repassword" onfocus="showTips('span_repassword','两次密码必须一致')" onblur="checkRepassword()" onkeyup="checkRepassword()"/><span id="span_repassword"></span><br />
            邮箱：<input type="email"  id="email" onfocus="showTips('span_email','请输入正确的邮箱格式')" onblur="checkEmail()" onkeyup="checkEmail()"/><span id="span_email"></span><br />
            手机号：<input type="text"  id="text"/><br />

            <input type="submit" value="提交" />
        </form>
    </body>
</html>